(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{123:function(e,t,n){},124:function(e,t,n){},177:function(e,t){},178:function(e,t){},179:function(e,t){},180:function(e,t,n){},181:function(e,t,n){},182:function(e,t,n){},183:function(e,t,n){},184:function(e,t,n){},185:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n(28),a=n.n(r),s=n(9),i=n(36),o=n(102),l=n(103),d=n(8),j="USER_LOGIN_REQUEST",u="USER_LOGIN_SUCCESS",b="USER_LOGIN_FAIL",h="USER_LOGOUT",O="USER_REGISTER_SUCCESS",m="USER_REGISTER_FAIL",g="USER_REGISTER_REQUEST",p="USER_DETAILS_SUCCESS",f="USER_DETAILS_FAIL",x="USER_DETAILS_REQUEST",v="USER_UPDATE_PROFILE_SUCCESS",y="USER_UPDATE_PROFILE_FAIL",S="USER_UPDATE_PROFILE_REQUEST",E="USER_UPDATE_PROFILE_RESET",C="USER_HOMEDETAILS_SUCCESS",L="USER_HOME_FAIL",w="USER_HOME_REQUEST",k="USER_FIND_FAIL",_="USER_FIND_SUCCESS",T="USER_FIND_REQUEST",A="DASHBOARD_SET_USERNAME",I="DASHBOARD_SET_ACTIVE_USERS",R={username:"",activeUsers:[]},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return Object(d.a)(Object(d.a)({},e),{},{username:t.username});case I:return Object(d.a)(Object(d.a)({},e),{},{activeUsers:t.activeUsers});default:return e}},D="CALL_AVAILABLE",N="CALL_REQUESTED",P="CALL_IN_PROGRESS",B="CALL_SET_LOCAL_STREAM",M="CALL_SET_CALL_STATE",F="CALL_SET_CALLING_DIALOGUE_VISIBLE",G="CALL_SET_CALLER_USERNAME",z="CALL_SET_CALL_REJECTED",H="CALL_SET_REMOTE_STREAM",V="CALL_SET_LOCAL_MIC_ENABLED",W="CALL_SET_LOCAL_CAM_ENABLED",J="CALL_SET_CHAT_MESSAGE_",K="CALL_SET_ACTIVITY",Q={localStream:null,callState:"CALL_UNAVAILABLE",callingDialogueVisibile:!1,callerUsername:"",callRejected:{rejected:!1,reason:""},remoteStream:null,localCamEnabled:!0,localMicEnabled:!0,message:{received:!1,content:""},activity:{socket:"",activity:""}},Y=function(e){return{type:F,visibile:e}},q="CALL_SET_RECEIVED_MOVE",X="CALL_SET_GAME_STATE_CHANGE",Z={opponentMove:"",gameState:"inProgress",turn:"w"},$="CANVAS_SET_DRAW",ee="CANVAS_SET_COLOR",te={color:"black"},ne="BOOK_SELECTED",ce="BOOK_NEXT_CLICKED",re="BOOK_PREV_CLICKED",ae={bookSelected:""},se=Object(i.combineReducers)({userLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return{Loading:!0};case u:return{Loading:!1,userInfo:t.payload};case b:return{Loading:!1,error:t.payload};case h:return{};default:return e}},userRegister:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return{Loading:!0};case O:return{Loading:!1,userInfo:t.payload};case m:return{Loading:!1,error:t.payload};default:return e}},userDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return Object(d.a)(Object(d.a)({},e),{},{Loading:!0});case p:return{Loading:!1,user:t.payload};case f:return{Loading:!1,error:t.payload};default:return e}},userUpdateProfile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return{Loading:!0};case v:return{Loading:!1,success:!0,userInfo:t.payload};case y:return{Loading:!1,error:t.payload};case E:return{};default:return e}},userHome:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object(d.a)(Object(d.a)({},e),{},{Loading:!0});case C:return{Loading:!1,user:t.payload};case L:return{Loading:!1,error:t.payload};default:return e}},userFind:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return{Loading:!0};case _:return{Loading:!1,success:!0,userInfo:t.payload};case k:return{Loading:!1,error:t.payload};default:return e}},call:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:return Object(d.a)(Object(d.a)({},e),{},{localStream:t.localStream});case M:return Object(d.a)(Object(d.a)({},e),{},{callState:t.callState});case F:return Object(d.a)(Object(d.a)({},e),{},{callingDialogueVisibile:t.visibile});case G:return Object(d.a)(Object(d.a)({},e),{},{callerUsername:t.callerUsername});case z:return Object(d.a)(Object(d.a)({},e),{},{callRejected:t.callRejected});case H:return Object(d.a)(Object(d.a)({},e),{},{remoteStream:t.remoteStream});case W:return Object(d.a)(Object(d.a)({},e),{},{localCamEnabled:t.enabled});case V:return Object(d.a)(Object(d.a)({},e),{},{localMicEnabled:t.enabled});case J:return Object(d.a)(Object(d.a)({},e),{},{message:t.message});case K:return Object(d.a)(Object(d.a)({},e),{},{activity:t.activity});default:return e}},chess:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q:return Object(d.a)(Object(d.a)({},e),{},{opponentMove:t.opponentMove});case X:return Object(d.a)(Object(d.a)({},e),{},{gameState:t.gameState});default:return e}},dashboard:U,canvas:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $:return Object(d.a)(Object(d.a)({},e),{},{drawData:t.drawData});case ee:return Object(d.a)(Object(d.a)({},e),{},{color:t.color});default:return e}},book:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne:return Object(d.a)(Object(d.a)({},e),{},{bookSelected:t.bookSelected});case re:return Object(d.a)(Object(d.a)({},e),{},{prevClicked:t.data});case ce:return Object(d.a)(Object(d.a)({},e),{},{nextClicked:t.data});default:return e}}}),ie={userLogin:{userInfo:localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null},chess:{}},oe=[o.a],le=Object(i.createStore)(se,ie,Object(l.composeWithDevTools)(i.applyMiddleware.apply(void 0,oe))),de=(n(123),n(124),n(16)),je=n(13),ue=n(190),be=n(50),he=n(104),Oe=n(105),me=n.p+"static/media/logo512.fde56a0e.png",ge=n(196),pe=n(197),fe=n(194),xe=n(108),ve=n(12),ye=n.n(ve),Se=n(21),Ee=n(38),Ce=n.n(Ee),Le="https://playgroundonline.herokuapp.com",we=n(2),ke={btn:{fontFamily:"Prompt"}},_e=function(){var e=Object(s.c)(),t=Object(s.d)((function(e){return e.userLogin})).userInfo,n=Object(we.jsx)(he.a,{icon:Oe.a});return Object(we.jsx)("header",{children:Object(we.jsxs)(ge.a,{variant:"light",expand:"lg",collapseOnSelect:!0,children:[Object(we.jsx)(be.LinkContainer,{to:"/",children:Object(we.jsx)(ge.a.Brand,{children:Object(we.jsx)("img",{src:me,width:"30",height:"30",className:"d-inline-block align-top",alt:"PlayGround logo"})})}),Object(we.jsx)(be.LinkContainer,{to:"/",children:Object(we.jsx)(ge.a.Brand,{className:"logo",children:"PlayGround"})}),Object(we.jsx)(ge.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(we.jsx)(ge.a.Collapse,{id:"basic-navbar-nav",className:"d-flex",children:Object(we.jsxs)(pe.a,{className:"ml-auto p-2",children:[t&&Object(we.jsxs)(pe.a.Link,{href:"/home",children:["Go to Dashboard ",n]}),t?Object(we.jsxs)(fe.a,{title:t.name,id:"username",className:"mr-4",children:[Object(we.jsx)(be.LinkContainer,{to:"/profile",children:Object(we.jsx)(fe.a.Item,{children:"Profile"})}),Object(we.jsx)(fe.a.Item,{onClick:function(){e((function(e){localStorage.removeItem("userInfo"),e({type:h})}))},children:"Log out"})]}):Object(we.jsx)(be.LinkContainer,{to:"/login",children:Object(we.jsx)(pe.a.Link,{children:Object(we.jsx)(xe.a,{variant:"warning",className:"text-black",style:ke.btn,children:"Sign In"})})})]})})]})})},Te=n(191),Ae=n(109),Ie={links:{textDecoration:"none",color:"#000",fontSize:"1vw"},footerDiv:{marginLeft:"auto",marginRight:"auto",paddingLeft:"5%",marginTop:"1%",marginBottom:"0.1%",bottom:"0px"}},Re=function(){return Object(we.jsx)("footer",{children:Object(we.jsx)(ue.a,{fluid:!0,className:"text-center text-md-left",children:Object(we.jsxs)(Te.a,{style:Ie.footerDiv,children:[Object(we.jsxs)(Ae.a,{children:[" ",Object(we.jsx)("div",{children:Object(we.jsx)(de.Link,{to:"/about",style:Ie.links,children:"about"})})]}),Object(we.jsx)(Ae.a,{children:Object(we.jsx)("div",{children:Object(we.jsx)("a",{href:"https://github.com/elbytes/PlayGround",style:Ie.links,children:"on GitHub"})})}),Object(we.jsx)(Ae.a,{children:Object(we.jsx)("div",{children:Object(we.jsx)(de.Link,{to:"/legal",style:Ie.links,children:"legal"})})}),Object(we.jsxs)(Ae.a,{children:["\xa9 ",(new Date).getFullYear()," Copyright:",Object(we.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://github.com/elbytes/PlayGround",style:Ie.links,children:"\xa0elBytes"})]})]})})})},Ue=n(192),De=n.p+"static/media/hero_2.02b3b1b4.png",Ne={border:{border:"1px solid"},heroImage:{maxWidth:"100%",height:"auto"},heroText:{position:"relative",top:"10%",left:"0",bottom:"10%",color:"#262626\t",marginBottom:"1%",paddingRight:"50%"},heroTextBlue:{color:"#3366CC",fontSize:"3vw",marginBottom:"2rem",marginTop:"2rem"},heroTitle:{backgroundColor:"#262626",color:"#ffffff\t",fontSize:"5vw",textAlign:"left",paddingLeft:"1rem",paddingRight:"1rem",paddingTop:"1rem",paddingBottom:"1rem"},heroBtnContainer:{marginTop:"2rem",marginLeft:"60%"},heroBtn:{marginLeft:"1rem",fontFamily:"Prompt"},heroBtnYellow:{marginLeft:"1rem",color:"#000",fontFamily:"Prompt",lineHeight:"200%"},lineHeight:{lineHeight:"200%",marginRight:"30rem"},heroTextFighter:{fontFamily:"Montserrat",lineHeight:"200%"}};var Pe,Be,Me,Fe,Ge=function(){return Object(we.jsx)("div",{children:Object(we.jsxs)(ue.a,{children:[Object(we.jsx)(Te.a,{children:Object(we.jsx)(Ae.a,{lg:12,md:12,sm:12,children:Object(we.jsx)("div",{style:Ne.heroText,children:Object(we.jsx)("h1",{style:Ne.heroTitle,children:" PlayGround"})})})}),Object(we.jsxs)(Te.a,{children:[Object(we.jsxs)(Ae.a,{lg:6,md:12,sm:12,children:[Object(we.jsx)("div",{style:Ne.lineHeight,children:Object(we.jsx)("h2",{style:Ne.heroTextBlue,children:"meaningfull ways of connecting"})}),Object(we.jsxs)("div",{children:[Object(we.jsx)("h4",{style:Ne.heroTextFighter,children:" fight the distance"}),Object(we.jsx)("h4",{style:Ne.heroTextFighter,children:" with love"}),Object(we.jsx)("h4",{style:Ne.heroTextFighter,children:"and creativity"})]}),Object(we.jsxs)("div",{style:Ne.heroBtnContainer,children:[Object(we.jsx)(de.Link,{to:"/about",children:Object(we.jsx)(xe.a,{variant:"info",style:Ne.heroBtn,children:"Learn more"})}),Object(we.jsx)(de.Link,{to:"/register",children:Object(we.jsx)(xe.a,{variant:"warning",style:Ne.heroBtnYellow,children:"Sign Up"})})]})]}),Object(we.jsx)(Ae.a,{lg:6,md:12,sm:12,children:Object(we.jsx)(Ue.a,{src:De,style:Ne.heroImage,rounded:!0})})]})]})})},ze=function(){return Object(we.jsx)("div",{className:"container-landing",children:Object(we.jsx)(Ge,{})})},He=n(10),Ve=n(110),We=n.n(Ve),Je=(n(64),n(111)),Ke=function(e){return{type:M,callState:e}},Qe=function(e){return{type:z,callRejected:{rejected:e.rejected,reason:e.reason}}},Ye=function(e){return{type:H,remoteStream:e}},qe=function(e,t){return{type:J,message:{received:e,content:t}}},Xe=function(e){return{type:K,activity:{socket:e.socket,activity:e.activity}}},Ze="CALL_ACCEPTED",$e="CALL_REJECTED",et="CALL_NOT_AVAILABLE",tt={video:!0,audio:!0},nt={iceServers:[{urls:"stun:stun.l.google.com:13902"}]},ct=function(){navigator.mediaDevices.getUserMedia(tt).then((function(e){le.dispatch({type:B,localStream:e}),le.dispatch(Ke(D)),console.log("setting local stream in store"),rt(),console.log("creating peer connection")})).catch((function(e){console.log("error occured when trying to get an access to get local stream"),console.log(e)}))},rt=function(){Be=new RTCPeerConnection(nt);var e,t=le.getState().call.localStream,n=Object(Je.a)(t.getTracks());try{for(n.s();!(e=n.n()).done;){var c=e.value;Be.addTrack(c,t),console.log("adding localStream track to peerConnection")}}catch(r){n.e(r)}finally{n.f()}Be.ontrack=function(e){var t=Object(He.a)(e.streams,1)[0];le.dispatch(Ye(t))},Be.ondatachannel=function(e){var t=e.channel;t.onopen=function(){console.log("peer connection is ready to receive data channel messages")},t.onmessage=function(e){le.dispatch(qe(!0,e.data))}},(Me=Be.createDataChannel("chat")).onopen=function(){console.log("chat data channel successfully opened")},Be.onicecandidate=function(e){console.log("Getting candidates from STUN server"),e.candidate&&(Et({candidate:e.candidate,connectedUserSocketId:Pe}),console.log("sending candidates to user"))},Be.onconnectionstatechange=function(e){"connected"===Be.connentionState&&console.log("successfully connected to peer")}},at=function(e){var t;dt?(Pe=e.callerSocketId,le.dispatch((t=e.callerUsername,{type:G,callerUsername:t})),le.dispatch(Ke(N))):vt({callerSocketId:e.callerSocketId,answer:et})},st=function(){var e=Object(Se.a)(ye.a.mark((function e(){var t;return ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Be.createOffer();case 2:return t=e.sent,e.next=5,Be.setLocalDescription(t);case 5:yt({calleeSocketId:Pe,offer:t});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),it=function(){var e=Object(Se.a)(ye.a.mark((function e(t){var n;return ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Be.setRemoteDescription(t.offer);case 2:return e.next=4,Be.createAnswer();case 4:return n=e.sent,e.next=7,Be.setLocalDescription(n);case 7:St({callerSocketId:Pe,answer:n});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ot=function(){var e=Object(Se.a)(ye.a.mark((function e(t){return ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Be.setRemoteDescription(t.answer);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),lt=function(){var e=Object(Se.a)(ye.a.mark((function e(t){return ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Be.addIceCandidate(t.candidate);case 3:console.log("adding ice candidate"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("Error occured when trying to add received candidate",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),dt=function(){return null!==le.getState().call.localStream&&le.getState().call.callStates===D},jt=function(){le.dispatch(Ye(null)),Be.close(),Be=null,rt(),ut()},ut=function(){Pe=null,le.dispatch(Ke(D))},bt=function(e){console.log("sending move received from server to store",e),le.dispatch({type:q,opponentMove:e})},ht=function(e){le.dispatch({type:X,gameState:e})},Ot=function(e){var t;le.dispatch((t=e,console.log("selectedBook",t),{type:ne,bookSelected:t})),console.log("dispatching selected book to store",e)},mt=function(e){le.dispatch(function(e){return console.log("next clicked",e),{type:ce,nextClicked:e}}(e)),console.log("dispatching next click to store",e)},gt="ACTIVE_USERS",pt=function(){(Fe=We()("https://playgroundonline.herokuapp.com/")).on("connection",(function(){console.log("Successfully connected wit web socket server "),console.log(Fe.id),Fe.id})),Fe.on("broadcast",(function(e){Lt(e)})),Fe.on("pre-offer",(function(e){at(e),console.log("handling pre-offer in wss")})),Fe.on("pre-offer-answer",(function(e){!function(e){var t;le.dispatch(Y(!1)),e.answer===Ze?st():(t=e.answer===et?"Contact is not able to answer now.":"Call is rejected",le.dispatch(Qe({rejected:!0,reason:t})),ut())}(e),console.log("handling pre-offer-answer in wss")})),Fe.on("webRTC-offer",(function(e){it(e),console.log("handling webRTC-offer in wss")})),Fe.on("webRTC-answer",(function(e){ot(e),console.log("handling webRTC-answer in wss")})),Fe.on("webRTC-candidate",(function(e){lt(e),console.log("handling webRTC-candidate in wss")})),Fe.on("user-hanged-up",(function(e){jt(),console.log("handling user-hanged-up in wss")})),Fe.on("activity",(function(e){var t;console.log("received activity selected from server",e),t=e,le.dispatch(Xe(t))})),Fe.on("move",(function(e){console.log("received data back from server",e),bt(e)})),Fe.on("game-state",(function(e){console.log("received data back from server",e),ht(e)})),Fe.on("draw",(function(e){console.log("receiving draw data back from server",e)})),Fe.on("new-add",(function(e){})),Fe.on("book-select",(function(e){console.log("received book select data back from server",e),Ot(e)})),Fe.on("book-next",(function(e){console.log("received book next data back from server",e),mt(e)}))},ft=function(e){Fe.emit("register-new-user",{username:e,socketId:Fe.id})},xt=function(e){Fe.emit("pre-offer",e),console.log("emmitting pre-offer")},vt=function(e){Fe.emit("pre-offer-answer",e),console.log("emmitting pre-offer-answer")},yt=function(e){Fe.emit("webRTC-offer",e),console.log("emmitting webRTC-offer")},St=function(e){Fe.emit("webRTC-answer",e),console.log("emmitting webRTC-answer")},Et=function(e){Fe.emit("webRTC-candidate",e),console.log("emmitting webRTC-candidate")},Ct=function(e){Fe.emit("user-hanged-up",e),console.log("emmitting user-hanged-up")},Lt=function(e){switch(e.event){case gt:var t=e.activeUsers.filter((function(e){return e.socketId!==Fe.id}));le.dispatch(function(e){return{type:I,activeUsers:e}}(t))}},wt=function(e){Fe.emit("activity",e),console.log("emitting activity event to server")},kt=function(e){Fe.emit("game-state",e),console.log("emitting game state change")},_t=n(199),Tt=n(198),At=n(195),It=function(e){var t=e.username,n=e.setUsername;return Object(we.jsx)("div",{children:Object(we.jsxs)(At.a.Group,{children:[Object(we.jsx)(At.a.Control,{style:{marginTop:"1rem"},size:"lg",type:"text",value:t,placeholder:"Nickname",onChange:function(e){n(e.target.value)}}),Object(we.jsx)("br",{})]})})},Rt={btn:{marginLeft:"1rem"},btnContainer:{alignItems:"center",fontFamily:"Prompt"}},Ut=function(e){var t=e.handleNicknameSubmitBtn,n=e.handleUseNameSubmitBtn;return Object(we.jsxs)("div",{style:Rt.btnContainer,children:[Object(we.jsx)(xe.a,{className:Rt.btn,type:"submit",variant:"success",onClick:t,children:"Set Nickname"}),Object(we.jsx)(xe.a,{style:Rt.btn,type:"submit",variant:"danger",onClick:n,children:"Use Your Name"})]})},Dt=n.p+"static/media/06.10c10e25.jpeg",Nt=n.p+"static/media/04.7f5d473c.jpeg",Pt=Object(s.b)(null,(function(e){return{saveUsername:function(t){return e(function(e){return{type:A,username:e}}(t))}}}))((function(e){var t=e.saveUsername,n=Object(s.d)((function(e){return e.userLogin})).userInfo,r=Object(c.useState)(""),a=Object(He.a)(r,2),i=a[0],o=a[1],l=Object(je.k)(),d={margin:{marginTop:"1rem",marginBottom:"1rem"},top:{top:"1rem"},font:{fontFamily:"Prompt"},img:{maxWidth:"100%",heigh:"auto"}};return Object(we.jsxs)("div",{children:[Object(we.jsxs)(Te.a,{children:[Object(we.jsx)(Ae.a,{lg:6,md:12,sm:12,children:Object(we.jsx)(_t.a,{children:Object(we.jsxs)(_t.a.Body,{children:[Object(we.jsx)(_t.a.Title,{style:d.font,children:"Choose a nickname or log in with your username"}),Object(we.jsx)(_t.a.Text,{children:Object(we.jsx)(Tt.a,{variant:"danger",children:Object(we.jsx)("p",{children:"The name you choose here will be displayed to all online users on the application."})})}),Object(we.jsx)(It,{username:i,setUsername:o}),Object(we.jsx)(Ut,{handleNicknameSubmitBtn:function(){ft(i),t(i),l.push("/dashboard")},handleUseNameSubmitBtn:function(){ft(n.name),t(n.name),l.push("/dashboard")}})]})})}),Object(we.jsx)(Ae.a,{lg:6,md:12,sm:12,children:Object(we.jsx)(Ue.a,{src:Dt,rounded:!0,style:d.img})})]}),Object(we.jsxs)(Te.a,{children:[Object(we.jsx)(Ae.a,{style:d.top,lg:6,md:12,sm:12,children:Object(we.jsx)(Ue.a,{src:Nt,rounded:!0,style:d.img})}),Object(we.jsxs)(Ae.a,{style:d.margin,lg:6,md:12,sm:12,children:[Object(we.jsx)(Tt.a,{variant:"danger",children:Object(we.jsx)("p",{children:"Make sure the person you want to conenct with knows the nickname ."})}),Object(we.jsx)(Tt.a,{variant:"warning",children:"Choosing a nickname instead of using the name you chose upon signing up, will help you log into the application anonymously. This might help you add an extra level of safety when using the application."}),Object(we.jsxs)(Tt.a,{variant:"info",children:["Read more about kids safety on the internet"," ",Object(we.jsx)(Tt.a.Link,{href:"#",children:"here"})]})]})]})]})})),Bt=function(e){e.location;var t=e.history,n=Object(s.c)(),r=Object(s.d)((function(e){return e.userHome})).user,a=Object(s.d)((function(e){return e.userLogin})).userInfo,i=Object(c.useState)(),o=Object(He.a)(i,2),l=o[0],d=o[1];return Object(c.useEffect)((function(){var e;a?r.name&&(n({type:C}),n(function(){var t=Object(Se.a)(ye.a.mark((function t(n,c){var r,a,s,i,o;return ye.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:w}),r=c(),a=r.userLogin.userInfo,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a.token)}},t.next=6,Ce.a.get("".concat(Le,"/api/users/").concat(e),s);case 6:i=t.sent,o=i.data,n({type:C,payload:o}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),n({type:L,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,n){return t.apply(this,arguments)}}()),ft(a.username)):t.push("/login")}),[n,t,a,r]),Object(c.useEffect)((function(){pt()}),[]),Object(we.jsx)(we.Fragment,{children:Object(we.jsxs)("div",{className:"home container-md",sm:12,md:12,children:[Object(we.jsxs)("h2",{children:["Welcome ",a.name]}),Object(we.jsx)(Pt,{username:l,setUsername:d})]})})},Mt=function(){return Object(we.jsx)("div",{children:Object(we.jsx)(ue.a,{className:"home",children:Object(we.jsx)("h2",{children:"About PlayGround"})})})},Ft=function(){return Object(we.jsx)("div",{children:Object(we.jsx)(ue.a,{className:"home",children:Object(we.jsx)("h3",{children:"legal stuff"})})})},Gt=function(e){var t=e.children;return Object(we.jsx)(ue.a,{children:Object(we.jsx)(Te.a,{className:"justify-content-md-center",children:Object(we.jsx)(Ae.a,{xs:12,md:6,children:t})})})},zt=n(193),Ht=function(){return Object(we.jsx)(zt.a,{animation:"border",role:"status",variant:"danger",style:{width:"100px",height:"100px",margin:"auto",display:"block"},children:Object(we.jsx)("span",{className:"sr-only",children:"Loading..."})})},Vt=function(e){var t=e.variant,n=e.children;return Object(we.jsx)(Tt.a,{variant:t,children:n})};Vt.defaultProps={variant:"danger"};var Wt=Vt,Jt=function(e){var t=e.location,n=e.history,r=Object(c.useState)(""),a=Object(He.a)(r,2),i=a[0],o=a[1],l=Object(c.useState)(""),d=Object(He.a)(l,2),h=d[0],O=d[1],m=Object(s.c)(),g=Object(s.d)((function(e){return e.userLogin})),p=g.loading,f=g.error,x=g.userInfo,v=t.search?t.search.split("=")[1]:"/home";Object(c.useEffect)((function(){x&&n.push(v)}),[n,x,v]);return Object(we.jsx)(Te.a,{children:Object(we.jsx)(Ae.a,{children:Object(we.jsx)("div",{lg:6,sm:12,xs:12,md:6,children:Object(we.jsx)(Gt,{children:Object(we.jsx)(_t.a,{bg:"light",children:Object(we.jsxs)(_t.a.Body,{children:[Object(we.jsx)(_t.a.Title,{children:Object(we.jsx)("h1",{children:"Sign In"})}),f&&Object(we.jsx)(Wt,{children:f}),p&&Object(we.jsx)(Ht,{}),Object(we.jsxs)(At.a,{onSubmit:function(e){e.preventDefault(),m(function(e,t){return function(){var n=Object(Se.a)(ye.a.mark((function n(c){var r,a,s;return ye.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,c({type:j}),r={headers:{"Content-Type":"application/json"}},n.next=5,Ce.a.post("".concat(Le,"/api/users/login"),{email:e,password:t},r);case 5:a=n.sent,s=a.data,c({type:u,payload:s}),localStorage.setItem("userInfo",JSON.stringify(s)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),c({type:b,payload:n.t0.response&&n.t0.response.data.message?n.t0.response.data.message:n.t0.message});case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e){return n.apply(this,arguments)}}()}(i,h))},children:[Object(we.jsxs)(At.a.Group,{controlId:"email",children:[Object(we.jsx)(At.a.Label,{children:"Email Address"}),Object(we.jsx)(At.a.Control,{type:"email",placeholder:"Enter email",value:i,onChange:function(e){return o(e.target.value)}})]}),Object(we.jsxs)(At.a.Group,{controlId:"password",children:[Object(we.jsx)(At.a.Label,{children:"Password"}),Object(we.jsx)(At.a.Control,{type:"password",placeholder:"Enter password",value:h,onChange:function(e){return O(e.target.value)}})]}),Object(we.jsx)(xe.a,{type:"submit",variant:"primary",children:"Sign In"})]}),Object(we.jsx)(Te.a,{className:"py-3",children:Object(we.jsxs)(Ae.a,{children:["New Here?","",Object(we.jsx)("hr",{}),Object(we.jsx)(de.Link,{to:v?"/register?redirect=".concat(v):"/register",children:"Sign up\xa0"}),"for a free account"]})})]})})})})})})},Kt=function(e){var t=e.location,n=e.history,r=Object(c.useState)(""),a=Object(He.a)(r,2),i=a[0],o=a[1],l=Object(c.useState)(""),d=Object(He.a)(l,2),j=d[0],b=d[1],h=Object(c.useState)(""),p=Object(He.a)(h,2),f=p[0],x=p[1],v=Object(c.useState)(""),y=Object(He.a)(v,2),S=y[0],E=y[1],C=Object(c.useState)(""),L=Object(He.a)(C,2),w=L[0],k=L[1],_=Object(c.useState)(null),T=Object(He.a)(_,2),A=T[0],I=T[1],R=Object(s.c)(),U=Object(s.d)((function(e){return e.userRegister})),D=U.loading,N=U.error,P=U.userInfo,B=t.search?t.search.split("=")[1]:"/";Object(c.useEffect)((function(){P&&n.push(B)}),[n,P,B]);return Object(we.jsx)(ue.a,{fluid:!0,children:Object(we.jsx)(Te.a,{children:Object(we.jsx)(Ae.a,{children:Object(we.jsx)(Gt,{children:Object(we.jsx)(_t.a,{children:Object(we.jsxs)(_t.a.Body,{children:[Object(we.jsx)(_t.a.Title,{children:Object(we.jsx)("h1",{children:"Sign Up for FREE to start using PlayGround"})}),A&&Object(we.jsx)(Wt,{variant:"danger",children:A}),N&&Object(we.jsx)(Wt,{variant:"danger",children:N}),D&&Object(we.jsx)(Ht,{}),Object(we.jsxs)(At.a,{onSubmit:function(e){e.preventDefault(),S!==w?I("Passwords do not match"):R(function(e,t,n,c){return function(){var r=Object(Se.a)(ye.a.mark((function r(a){var s,i,o;return ye.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,a({type:g}),s={headers:{"Content-Type":"application/json"}},r.next=5,Ce.a.post("".concat(Le,"/api/users"),{name:e,email:t,username:n,password:c},s);case 5:i=r.sent,o=i.data,a({type:O,payload:o}),a({type:u,payload:o}),localStorage.setItem("userInfo",JSON.stringify(o)),r.next=15;break;case 12:r.prev=12,r.t0=r.catch(0),a({type:m,payload:r.t0.response&&r.t0.response.data.message?r.t0.response.data.message:r.t0.message});case 15:case"end":return r.stop()}}),r,null,[[0,12]])})));return function(e){return r.apply(this,arguments)}}()}(i,j,f,S))},children:[Object(we.jsxs)(At.a.Group,{controlId:"name",children:[Object(we.jsx)(At.a.Label,{children:"Name"}),Object(we.jsx)(At.a.Control,{type:"text",placeholder:"Enter name",value:i,onChange:function(e){return o(e.target.value)}})]}),Object(we.jsxs)(At.a.Group,{controlId:"username",children:[Object(we.jsx)(At.a.Label,{children:"Username"}),Object(we.jsx)(At.a.Control,{type:"text",placeholder:"Enter username",value:f,onChange:function(e){return x(e.target.value)}})]}),Object(we.jsxs)(At.a.Group,{controlId:"email",children:[Object(we.jsx)(At.a.Label,{children:"Email Address"}),Object(we.jsx)(At.a.Control,{type:"email",placeholder:"Enter email",value:j,onChange:function(e){return b(e.target.value)}})]}),Object(we.jsxs)(At.a.Group,{controlId:"password",children:[Object(we.jsx)(At.a.Label,{children:"Password"}),Object(we.jsx)(At.a.Control,{type:"password",placeholder:"Enter password",value:S,onChange:function(e){return E(e.target.value)}})]}),Object(we.jsxs)(At.a.Group,{controlId:"confirmPassword",children:[Object(we.jsx)(At.a.Label,{children:"Password"}),Object(we.jsx)(At.a.Control,{type:"password",placeholder:"Confirm password",value:w,onChange:function(e){return k(e.target.value)}})]}),Object(we.jsx)(xe.a,{type:"submit",variant:"primary",children:"Sign Up"})]}),Object(we.jsx)(Te.a,{className:"py-3",children:Object(we.jsxs)(Ae.a,{children:["Already have an account with PlayGround","",Object(we.jsx)("hr",{}),Object(we.jsx)(de.Link,{to:B?"/login?redirect=".concat(B):"/login",children:"Sign In"})," ","instead"]})})]})})})})})})},Qt=function(e){e.location;var t=e.history,n=Object(c.useState)(""),r=Object(He.a)(n,2),a=r[0],i=r[1],o=Object(c.useState)(""),l=Object(He.a)(o,2),d=l[0],j=l[1],b=Object(c.useState)(""),h=Object(He.a)(b,2),O=h[0],m=h[1],g=Object(c.useState)(""),C=Object(He.a)(g,2),L=C[0],w=C[1],k=Object(c.useState)(""),_=Object(He.a)(k,2),T=_[0],A=_[1],I=Object(c.useState)(null),R=Object(He.a)(I,2),U=R[0],D=R[1],N=Object(s.c)(),P=Object(s.d)((function(e){return e.userDetails})),B=P.loading,M=P.error,F=P.user,G=Object(s.d)((function(e){return e.userLogin})).userInfo,z=Object(s.d)((function(e){return e.userUpdateProfile})).success;Object(c.useEffect)((function(){var e;G?!F.name||z?(N({type:E}),N((e="profile",function(){var t=Object(Se.a)(ye.a.mark((function t(n,c){var r,a,s,i,o;return ye.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:x}),r=c(),a=r.userLogin.userInfo,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a.token)}},t.next=6,Ce.a.get("".concat(Le,"/api/users/").concat(e),s);case 6:i=t.sent,o=i.data,n({type:p,payload:o}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),n({type:f,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,n){return t.apply(this,arguments)}}()))):(i(F.name),j(F.email),m(F.username)):t.push("/login")}),[N,t,G,F,z]);return Object(we.jsx)(ue.a,{children:Object(we.jsx)(Te.a,{children:Object(we.jsx)(Ae.a,{children:Object(we.jsx)(_t.a,{children:Object(we.jsxs)(_t.a.Body,{children:[Object(we.jsx)(_t.a.Title,{children:Object(we.jsx)("h2",{children:"User Profile"})}),U&&Object(we.jsx)(Wt,{variant:"danger",children:U}),M&&Object(we.jsx)(Wt,{variant:"danger",children:M}),z&&Object(we.jsx)(Wt,{variant:"success",children:"Profile Updated"}),B&&Object(we.jsx)(Ht,{}),Object(we.jsxs)(At.a,{onSubmit:function(e){e.preventDefault(),L!==T?D("Passwords do not match"):N(function(e){return function(){var t=Object(Se.a)(ye.a.mark((function t(n,c){var r,a,s,i,o;return ye.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:S}),r=c(),a=r.userLogin.userInfo,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a.token)}},t.next=6,Ce.a.put("".concat(Le,"/api/users/profile"),e,s);case 6:i=t.sent,o=i.data,n({type:v,payload:o}),n({type:u,payload:o}),localStorage.setItem("userInfo",JSON.stringify(o)),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),n({type:y,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,n){return t.apply(this,arguments)}}()}({id:F._id,name:a,email:d,username:O,password:L}))},children:[Object(we.jsxs)(At.a.Group,{controlId:"name",children:[Object(we.jsx)(At.a.Label,{children:"Name"}),Object(we.jsx)(At.a.Control,{type:"text",placeholder:"Enter name",value:a,onChange:function(e){return i(e.target.value)}})]}),Object(we.jsxs)(At.a.Group,{controlId:"email",children:[Object(we.jsx)(At.a.Label,{children:"Email Address"}),Object(we.jsx)(At.a.Control,{type:"email",placeholder:"Enter email",value:d,onChange:function(e){return j(e.target.value)}})]}),Object(we.jsxs)(At.a.Group,{controlId:"password",children:[Object(we.jsx)(At.a.Label,{children:"Password"}),Object(we.jsx)(At.a.Control,{type:"password",placeholder:"Enter password",value:L,onChange:function(e){return w(e.target.value)}})]}),Object(we.jsxs)(At.a.Group,{controlId:"confirmPassword",children:[Object(we.jsx)(At.a.Label,{children:"Password"}),Object(we.jsx)(At.a.Control,{type:"password",placeholder:"Confirm password",value:T,onChange:function(e){return A(e.target.value)}})]}),Object(we.jsx)(xe.a,{type:"submit",variant:"primary",children:"Update"})]})]})})})})})},Yt={videoContainer:{width:"100%",height:"100%",position:"relative"},videoElement:{width:"100%",height:"100%",borderRadius:"8px"}},qt=function(e){var t=e.localStream,n=Object(c.useRef)();return Object(c.useEffect)((function(){if(t){var e=n.current;e.srcObject=t,e.onloadedmetadata=function(){e.play()}}}),[t]),Object(we.jsx)("div",{style:Yt.videoContainer,children:Object(we.jsx)("video",{style:Yt.videoElement,ref:n,autoPlay:!0,muted:!0})})},Xt={videoContainer:{width:"100%",height:"100%",position:"relative",right:"2%"},videoElement:{width:"100%",height:"100%",borderRadius:"8px"}},Zt=function(e){var t=e.remoteStream,n=Object(c.useRef)();return Object(c.useEffect)((function(){if(t){console.log(t);var e=n.current;e.srcObject=t,e.onloadedmetadata=function(){e.play()}}}),[t]),Object(we.jsx)("div",{style:Xt.videoContainer,children:Object(we.jsx)("video",{style:Xt.videoElement,ref:n,autoPlay:!0})})},$t=(n(180),function(e){var t=e.reason,n=e.hideCallRejectedDialog;return Object(c.useEffect)((function(){setTimeout((function(){n({rejected:!1,reason:""})}),[5e3])}),[]),Object(we.jsx)("div",{className:"call_rejected",children:t})}),en=(n(181),function(e){var t=e.callerUsername;return Object(we.jsxs)("div",{children:[Object(we.jsxs)("span",{children:[t," is calling..."]}),Object(we.jsxs)("div",{children:[Object(we.jsx)(xe.a,{variant:"success",style:{marginRight:"1em"},onClick:function(){vt({callerSocketId:Pe,answer:Ze}),le.dispatch(Ke(P)),console.log("accept incoming call from webRTC handler")},children:"Accept"}),Object(we.jsx)(xe.a,{variant:"danger",onClick:function(){vt({callerSocketId:Pe,answer:$e}),ut()},children:"Reject"})]})]})}),tn=(n(182),function(){return Object(we.jsx)("div",{className:"direct_call",children:Object(we.jsx)("h3",{children:"Calling..."})})}),nn=n(43),cn={button:{width:"50px",height:"50px",borderRadius:"40px",border:"2px solid #e6e5e8",textDecoration:"none",backgroundColor:"#282c36",display:"flex",alignItems:"center",justifyContent:"center",marginLeft:"10px",boxShadow:"none",borderImage:"none",borderStyle:"none",borderWidth:"0px",outline:"none"}},rn=function(e){var t=e.onClickHandler;return Object(we.jsx)("button",{style:cn.button,onClick:t,children:e.children})},an={buttonContainer:{display:"flex",position:"absolute",bottom:"5%",left:"35%"},icon:{width:"25px",height:"25px",fill:"#e6e5e8"},iconEnd:{width:"25px",height:"25px",fill:"#FF3218",color:"#FF6E0A"}},sn=function(e){var t=e.localStream,n=e.localCamEnabled,c=e.localMicEnabled,r=e.setCamEnabled,a=e.setMicEnabled,s=function(){var e=c;t.getAudioTracks()[0].enabled=!e,console.log("Mic disabled"),a(!e)},i=function(){var e=n;t.getVideoTracks()[0].enabled=!e,console.log("Cam disabled"),r(!e)};return Object(we.jsxs)("div",{style:an.buttonContainer,children:[Object(we.jsx)(rn,{children:c?Object(we.jsx)(nn.b,{style:an.icon,onClick:s}):Object(we.jsx)(nn.c,{style:an.icon,onClick:s})}),Object(we.jsx)(rn,{children:Object(we.jsx)(nn.a,{style:an.iconEnd,onClick:function(){Ct({connectedUserSocketId:Pe}),jt()}})}),Object(we.jsx)(rn,{children:n?Object(we.jsx)(nn.d,{style:an.icon,onClick:i}):Object(we.jsx)(nn.e,{style:an.icon,onClick:i})})]})};var on=function(e){return Object(we.jsx)("div",{className:"chatDisplay",children:e.message})},ln=(n(183),{chatBtn:{float:"right"},typing:{color:"darkgrey"},col:{width:"auto",marginRight:"0.5em"}});var dn=function(e){var t=e.message,n=(e.setDirectCallMessage,Object(c.useState)("")),r=Object(He.a)(n,2),a=r[0],s=r[1];return Object(we.jsxs)(we.Fragment,{children:[t.received&&Object(we.jsx)(on,{className:"chatDisplay",message:t.content}),Object(we.jsx)(At.a,{onSubmit:function(e){e.preventDefault(),function(e){Me.send(e)}(a),s("")},children:Object(we.jsxs)(Te.a,{children:[Object(we.jsx)(Ae.a,{xs:10,style:ln.col,children:Object(we.jsx)(At.a.Group,{controlId:"exampleForm.ControlTextarea1",children:Object(we.jsx)(At.a.Control,{as:"textarea",rows:1,value:a,onChange:function(e){s(e.target.value)},placeholder:"Type your message"})})}),Object(we.jsx)(Ae.a,{children:Object(we.jsx)(xe.a,{style:ln.chatBtn,variant:"danger",type:"submit",children:"Send"})})]})})]})},jn={verticalMArgin:{marginTop:"0.5rem",marginBottom:"0.5rem"}};var un=Object(s.b)((function(e){var t=e.call;return Object(d.a)({},t)}),(function(e){return{hideCallRejectedDialog:function(t){return e(Qe(t))},setCamEnabled:function(t){return e(function(e){return{type:W,enabled:e}}(t))},setMicEnabled:function(t){return e(function(e){return{type:V,enabled:e}}(t))},setDirectCallMessage:function(t,n){return e(qe(t,n))}}}))((function(e){var t=e.localStream,n=e.remoteStream,c=e.callState,r=e.callerUsername,a=e.callingDialogueVisibile,s=e.callRejected,i=e.hideCallRejectedDialog,o=e.message,l=e.setDirectCallMessage;return Object(we.jsxs)(we.Fragment,{children:[Object(we.jsx)(Te.a,{}),Object(we.jsxs)(Te.a,{style:jn.verticalMArgin,children:[Object(we.jsx)(Ae.a,{children:Object(we.jsx)(qt,{localStream:t})}),Object(we.jsx)(Ae.a,{children:n&&c===P&&Object(we.jsx)(Zt,{remoteStream:n})})]}),Object(we.jsx)(Te.a,{style:jn.verticalMArgin,children:Object(we.jsx)(Ae.a,{children:s.rejected&&Object(we.jsx)($t,{reason:s.reason,hideCallRejectedDialog:i})})}),Object(we.jsx)(Te.a,{style:jn.verticalMArgin,children:Object(we.jsx)(Ae.a,{children:c===N&&Object(we.jsx)(en,{callerUsername:r})})}),Object(we.jsx)(Te.a,{style:jn.verticalMArgin,children:Object(we.jsx)(Ae.a,{children:a&&Object(we.jsx)(tn,{})})}),Object(we.jsx)(Te.a,{style:jn.verticalMArgin,children:Object(we.jsx)(Ae.a,{children:n&&c===P&&Object(we.jsx)(sn,Object(d.a)({},e))})}),Object(we.jsx)(Te.a,{children:Object(we.jsx)(Ae.a,{children:n&&c===P&&Object(we.jsx)(dn,{setDirectCallMessage:l,message:o})})})]})})),bn=function(){return Object(we.jsx)("div",{children:Object(we.jsx)(Te.a,{children:Object(we.jsx)(Ae.a,{children:Object(we.jsx)(un,{})})})})},hn=(n(184),n.p+"static/media/userAvatar.396cd13c.png"),On=function(e){var t=e.activeUser;return Object(we.jsxs)("div",{className:"active_user_list_item",onClick:function(){var e;Pe=(e=t).socketId,le.dispatch(Ke(P)),le.dispatch(Y(!0)),xt({callee:e,caller:{username:le.getState().dashboard.username}}),console.log("calling user")},children:[Object(we.jsx)("div",{className:"active_user_list_image_container",children:Object(we.jsx)("img",{className:"active_user_list_image",src:hn,alt:"user avatar"})}),Object(we.jsx)("span",{className:"active_user_list_text",children:t.username})]})},mn=Object(s.b)((function(e){var t=e.dashboard;return Object(d.a)({},t)}))((function(e){var t=e.activeUsers;return Object(we.jsx)("div",{className:"active_user_list_container",children:t.map((function(e){return Object(we.jsx)(On,{activeUser:e},e.socketId)}))})})),gn=n.p+"static/media/Selection_089.ffe87532.png",pn={img:{maxWidth:"100%",height:"auto"}},fn=function(){return Object(we.jsxs)("div",{children:[Object(we.jsx)("h4",{children:"Library activity coming VERY soon"}),Object(we.jsx)("h5",{children:"And it's going to look EVEN better than this!"}),Object(we.jsx)(Ue.a,{src:gn,rounded:!0,style:pn.img})]})},xn=n(112),vn=n.n(xn),yn=n(113),Sn=n.n(yn);var En=function(){var e,t=Object(c.useState)("start"),n=Object(He.a)(t,2),r=n[0],a=n[1],i=Object(s.d)((function(e){return e.chess.gameState}));e=Object(s.d)((function(e){return e.chess.opponentMove}));var o=Object(c.useRef)(null);Object(c.useEffect)((function(){o.current=new vn.a}),[]),Object(c.useEffect)((function(){j(e)}),[e]);var l={socket:Pe,gameState:i};o.current&&o.current.in_check()&&kt(l),o.current&&o.current.in_checkmate()&&kt(l),o.current&&o.current.in_draw()&&kt(l),o.current&&o.current.in_stalemate()&&kt(l);var d=function(e){var t=e.sourceSquare,n=e.targetSquare,c=o.current.move({from:t,to:n});if(null!==c){a(o.current.fen());var r={socket:Pe,move:c};console.log(r),function(e){Fe.emit("move",e),console.log("emitting move event",e)}(r),a(o.current.fen())}},j=function(e){if(e){console.log("opponentMove from ChessGame",e.to);var t=e.from,n=e.to;d({sourceSquare:t,targetSquare:n})}};return Object(we.jsxs)("div",{children:[o.current&&o.current.game_over()?Object(we.jsxs)("div",{children:[Object(we.jsx)("span",{children:"game over"}),Object(we.jsx)("button",{onClick:function(){o.current.clear(),o.current.reset(),a("start")},children:"Play Again"})]}):Object(we.jsx)(we.Fragment,{}),o.current&&o.current.in_check()?Object(we.jsx)("div",{children:Object(we.jsx)(Tt.a,{variant:"danger",children:"CHECKED"})}):Object(we.jsx)(we.Fragment,{}),o.current&&o.current.in_checkmate()?Object(we.jsx)("div",{children:Object(we.jsx)(Tt.a,{variant:"danger",children:"CHECKMATE"})}):Object(we.jsx)(we.Fragment,{}),o.current&&o.current.in_draw()?Object(we.jsx)("div",{children:Object(we.jsx)(Tt.a,{variant:"danger",children:"DRAW"})}):Object(we.jsx)(we.Fragment,{}),o.current&&o.current.in_stalemate()?Object(we.jsx)("div",{children:Object(we.jsx)(Tt.a,{variant:"danger",children:"STALEMATE"})}):Object(we.jsx)(we.Fragment,{}),Object(we.jsx)("div",{children:Object(we.jsx)("h5",{children:o.current&&"b"===o.current.turn()?Object(we.jsx)("h4",{children:"It's Black turn"}):Object(we.jsx)("h4",{children:"It's White turn"})})}),Object(we.jsx)(Sn.a,{position:r,onDrop:d,onDropFromStore:j})]})},Cn=function(){return Object(we.jsx)("div",{children:Object(we.jsx)(En,{})})},Ln=n.p+"static/media/puzzle.efb9f891.png",wn={img:{maxWidth:"100%",height:"auto"}};var kn=function(){return Object(we.jsx)("div",{children:Object(we.jsxs)(Te.a,{children:[Object(we.jsx)(Ae.a,{children:Object(we.jsx)("h3",{children:"Puzzle Activity Coming Soon!"})}),Object(we.jsx)(Ae.a,{xs:6,md:4,children:Object(we.jsx)(Ue.a,{src:Ln,fluid:!0,style:wn.img})})]})})},_n=n.p+"static/media/Selection_088.f614ff53.png",Tn={img:{maxWidth:"100%",height:"auto"}},An=function(){return Object(we.jsxs)("div",{children:[Object(we.jsx)("h4",{children:"Library activity coming VERY soon"}),Object(we.jsx)("h5",{children:"And this is what it's going to look like!"}),Object(we.jsx)(Ue.a,{src:_n,rounded:!0,style:Tn.img})]})},In=n(65),Rn=n(114),Un={menu:{cursor:"pointer",marginBottom:"1em",marginTop:"1em"},menuText:{}},Dn=function(){var e=Object(s.c)();return Object(we.jsxs)(we.Fragment,{children:[Object(we.jsx)("h4",{children:"ACTIVITIES"}),Object(we.jsxs)(Te.a,{children:[Object(we.jsxs)(Ae.a,{children:[Object(we.jsx)(In.c,{size:"2em",onClick:function(){console.log("handling draw clicked");var t={socket:Pe,activity:"draw"};console.log(t),wt(t),e(Xe(t))},style:Un.menu}),Object(we.jsx)("h6",{children:"Draw"})]}),Object(we.jsxs)(Ae.a,{children:[Object(we.jsx)(In.b,{size:"2em",onClick:function(){console.log("handling chess clicked");var t={socket:Pe,activity:"chess"};console.log(t),wt(t),e(Xe(t))},style:Un.menu}),Object(we.jsx)("h6",{children:"Chess"})]}),Object(we.jsxs)(Ae.a,{children:[Object(we.jsx)(Rn.a,{size:"2em",onClick:function(){console.log("handling puzzle clicked");var t={socket:Pe,activity:"puzzle"};console.log(t),wt(t),e(Xe(t))},style:Un.menu}),Object(we.jsx)("h6",{style:Un.menuText,children:"Puzzle"})]}),Object(we.jsxs)(Ae.a,{children:[Object(we.jsx)(In.a,{size:"2em",onClick:function(){var t={socket:Pe,activity:"book"};console.log(t),wt(t),e(Xe(t))},style:Un.menu}),Object(we.jsx)("h6",{style:Un.menuText,children:"Read"})]})]})]})},Nn=function(){return Object(we.jsx)("div",{children:Object(we.jsx)("h2",{children:"To start a PlayGround, choose a friend to connect to from the Active Users List."})})},Pn={menu:{cursor:"pointer"},verticalMArgin:{marginTop:"0.5rem",marginBottom:"0.5rem"}},Bn=function(e){e.id;var t=Object(s.d)((function(e){return e.call.activity})),n=Object(s.d)((function(e){return e.call.callState}));return console.log(t),Object(c.useEffect)((function(){return ct(),function(){}}),[]),Object(we.jsx)("div",{className:"home",children:Object(we.jsxs)("div",{className:"border",children:[Object(we.jsxs)(Te.a,{style:Pn.verticalMArgin,children:[Object(we.jsx)(Ae.a,{children:Object(we.jsxs)("div",{className:"border",children:["chess"===t.activity&&Object(we.jsx)(Cn,{}),"draw"===t.activity&&Object(we.jsx)(fn,{}),"book"===t.activity&&Object(we.jsx)(An,{}),"puzzle"===t.activity&&Object(we.jsx)(kn,{}),""===t.activity&&Object(we.jsx)(Nn,{})]})}),Object(we.jsxs)(Ae.a,{children:[Object(we.jsx)(Te.a,{style:Pn.verticalMArgin,children:n===P?Object(we.jsx)(Dn,{}):Object(we.jsx)(Ae.a,{children:Object(we.jsx)(Tt.a,{variant:"info",children:"To sart an activity, connect with a friend first"})})}),Object(we.jsx)(Te.a,{style:Pn.verticalMArgin,children:Object(we.jsx)(Ae.a,{children:Object(we.jsx)("div",{className:"border",children:Object(we.jsx)(bn,{})})})})]})]}),Object(we.jsx)(Te.a,{children:Object(we.jsx)(Ae.a,{children:Object(we.jsx)("div",{children:n===D&&Object(we.jsx)(mn,{})})})})]})})},Mn={center:{marginLeft:"auto",marginRight:"auto",width:"50%"},btn:{fontFamily:"Prompt",color:"#000"},text:{fontSize:"20rem"}},Fn=function(){return Object(we.jsx)("div",{style:Mn.center,children:Object(we.jsxs)(ue.a,{children:[Object(we.jsx)(Te.a,{children:Object(we.jsx)(Ae.a,{children:Object(we.jsx)("h1",{style:Mn.text,children:"OOPS"})})}),Object(we.jsx)(Te.a,{children:Object(we.jsx)(Ae.a,{children:Object(we.jsx)(de.Link,{to:"/",children:Object(we.jsx)(xe.a,{variant:"warning",style:Mn.btn,children:"GO BACK HOME"})})})})]})})},Gn=function(){return Object(we.jsxs)(de.BrowserRouter,{children:[Object(we.jsx)(_e,{}),Object(we.jsx)("main",{className:"py-3",children:Object(we.jsx)(ue.a,{children:Object(we.jsxs)(je.g,{children:[Object(we.jsx)(je.d,{path:"/",component:ze,exact:!0}),Object(we.jsx)(je.d,{path:"/home",component:Bt}),Object(we.jsx)(je.d,{path:"/about",component:Mt}),Object(we.jsx)(je.d,{path:"/legal",component:Ft}),Object(we.jsx)(je.d,{path:"/dashboard",component:Bn,exact:!0}),Object(we.jsx)(je.d,{path:"/login",component:Jt}),Object(we.jsx)(je.d,{path:"/register",component:Kt}),Object(we.jsx)(je.d,{path:"/profile",component:Qt}),Object(we.jsx)(je.d,{path:"*",component:Fn})]})})}),Object(we.jsx)(Re,{})]})};a.a.render(Object(we.jsx)(s.a,{store:le,children:Object(we.jsx)(Gn,{})}),document.getElementById("root"))}},[[185,1,2]]]);
//# sourceMappingURL=main.49a579dd.chunk.js.map